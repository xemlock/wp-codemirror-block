void 0===window.wpcm.editors&&(window.wpcm.editors=[]),function(e,t,o){"use strict";t.executable_modes=["htmlmixed","javascript","xml","jsx","vue"],t.frontEndInitialization=function(){var o=document.querySelectorAll(".code-block > pre.CodeMirror");t.addNotice();for(var n=0;n<o.length;n++){var a=o[n];if(a.dataset.setting){var i=JSON.parse(a.dataset.setting),l=o[n].textContent,d="code-block-"+n;o[n].parentNode.setAttribute("id",n),a.setAttribute("id",d),t.codeMirrorInit(d,l,i,n)}}e(document.body).trigger("wpcm_editors_loaded")},t.codeMirrorInit=function(n,a,i){var l=document.getElementById(n);l.style="display: none";var d=o(l.parentNode,{lineNumbers:i.lineNumbers,lineWrapping:i.lineWrapping,readOnly:i.readOnly,scrollbarStyle:"simple",firstLineNumber:i.firstLineNumber?Math.abs(i.firstLineNumber):1});o.autoLoadTheme(d,i.theme),d.setValue(a),i.disableCopy&&d.setOption("readOnly","nocursor"),d.setOption("mode",i.mime),d.setOption("theme",i.theme),i.styleActiveLine&&(d.on("blur",e=>{d.setOption("styleActiveLine",!1)}),d.on("focus",e=>{d.setOption("styleActiveLine",i.styleActiveLine)})),o.autoLoadMode(d,i.mode),(t.panelOptions.showPanel||i.showPanel)&&(d.getWrapperElement().querySelector(".CodeMirror-simplescroll-vertical").classList.add("adjest-top"),t.addPanel(d,i)),t.executable_modes.includes(i.mode)&&t.renderOutputBlock(l),t.editors.push(d),e(document.body).trigger("wpcm_editor_loaded",[d])},t.addNotice=function(){var e=document.createElement("div");e.className="CodeMirror-notice",document.body.appendChild(e)},t.showNotice=function(e,t){var o=document.querySelector(".CodeMirror-notice");o.innerHTML=e,o.setAttribute("style",["bottom: 15px;"].join("")),setTimeout(()=>{o.removeAttribute("style")},3e3)},t.addPanel=function(e,o){var n=document.createElement("div"),a=document.createElement("div"),i=document.createElement("div"),l=document.createElement("span"),d=e.getWrapperElement();if(n.className="CodeMirror-panel",a.className="info-panel",i.className="control-panel","no"==o.languageLabel||("language"==window.wpcm.panelOptions.languageLabel||"language"==o.languageLabel?(l.textContent=o.language,l.className="language "+o.language.toLowerCase()):"file"!=window.wpcm.panelOptions.languageLabel&&"file"!=o.languageLabel||(l.textContent=o.fileName?o.fileName:o.language,l.className="language "+o.language.toLowerCase())),a.appendChild(l),window.wpcm.panelOptions.runButton&&t.executable_modes.includes(o.mode)){var c=document.createElement("span"),r=document.createElement("b");c.classList="tool",c.setAttribute("data-tip","Execute Code"),r.className="run-code execute-code",c.onclick=t.executeCode,c.appendChild(r),i.appendChild(c)}if(window.wpcm.panelOptions.fullScreenButton){var s=document.createElement("span"),u=document.createElement("b");s.classList="tool",s.setAttribute("data-tip","Full Screen"),u.className="fullscreen maximize",u.onclick=t.setFullScreen,s.appendChild(u),i.appendChild(s)}if(window.wpcm.panelOptions.copyButton&&!o.disableCopy){var m=document.createElement("span"),p=document.createElement("b");m.classList="tool",m.setAttribute("data-tip","Copy Code"),p.className="copy",p.onclick=t.copyToClipboard,m.appendChild(p),i.appendChild(m)}a.appendChild(i),n.appendChild(a),d.insertBefore(n,d.firstChild)},t.executeCode=function(o){var n=this,a=n.closest(".code-block"),i=a.id,l=t.editors[i],d=l.getValue(),c=a.querySelector(".output-block-frame"),r=null;c.classList.add("show"),r=c.contentWindow?c.contentWindow:c.contentDocument.document?c.contentDocument.document:c.contentDocument,r.document.open(),r.document.write(d),r.document.close(),e("html, body").animate({scrollTop:e(c).offset().top-80},600)},t.styleOutputBlock=function(e){var t=e.target,o=null,n=0;t.classList.contains("first-load")?t.classList.remove("first-load"):(o=t.contentWindow?t.contentWindow:t.contentDocument.document?t.contentDocument.document:t.contentDocument,t.setAttribute("style","height:200px"),o.document.body?(n=Math.round(o.document.body.scrollHeight)+25,n>200&&t.setAttribute("style","height:"+n+"px")):t.setAttribute("style","height:70vh"))},t.renderOutputBlock=function(e){var o=document.createElement("iframe");o.classList.add("output-block-frame","first-load"),o.onload=t.styleOutputBlock,o.style.height="100px",o.src="",e.parentNode.append(o)},t.setFullScreen=function(){var e=this,o=e.closest(".code-block"),n=o.id,a=t.editors[n],i=document.getElementById("wpadminbar");e.classList.contains("maximize")?(e.classList.remove("maximize"),e.classList.add("restore"),e.closest(".CodeMirror").classList.add("CodeMirror-fullscreen"),void 0!==i&&null!=i&&e.closest(".CodeMirror").classList.add("adjest-top"),document.documentElement.style.overflow="hidden"):(e.classList.remove("restore"),e.classList.add("maximize"),e.closest(".CodeMirror").classList.remove("CodeMirror-fullscreen","adjest-top"),document.documentElement.style.overflow=""),a.refresh()},t.copyToClipboard=function(){var e=this,o=e.closest(".code-block"),n=o.id,a=t.editors[n].getValue();if(window.clipboardData)window.clipboardData.setData("Text",a);else{var i=document.createElement("textarea");i.className="CodeMirror-ClipBoard",document.body.appendChild(i),i.appendChild(document.createTextNode(a)),i.select();try{var l=document.execCommand("copy"),d=l?"Copied to cliboard":"Can not copied"}catch(e){d="Oops, unable to copy"}t.showNotice(d,""),i.remove()}}}(window.jQuery,window.wpcm,window.CodeMirror),wpcm.frontEndInitialization(),jQuery(document).ready(function(){setTimeout(()=>{for(var e=0;e<wpcm.editors.length;e++)wpcm.editors[e].refresh()},1500)});